{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef } from 'react';\nimport clsx from 'clsx';\nimport { useMergeRefs } from '@cloudscape-design/component-toolkit/internal';\nimport { useIntersectionObserver } from '../../internal/hooks/use-intersection-observer';\nimport { useVisualRefresh } from '../../internal/hooks/use-visual-mode';\nimport { browserScrollbarSize } from '../../internal/utils/browser-scrollbar-size';\nimport { useStickyScrollbar } from './use-sticky-scrollbar';\nimport styles from './styles.css.js';\nexport default forwardRef(StickyScrollbar);\nfunction StickyScrollbar(_ref, ref) {\n  let {\n    wrapperRef,\n    tableRef,\n    onScroll,\n    hasStickyColumns\n  } = _ref;\n  const isVisualRefresh = useVisualRefresh();\n  const scrollbarRef = React.useRef(null);\n  const scrollbarContentRef = React.useRef(null);\n  const mergedRef = useMergeRefs(ref, scrollbarRef);\n  /**\n   * If the height of the scrollbar is 0, we're likely on a platform that uses\n   * overlay scrollbars (e.g. Mac).\n   */\n  const offsetScrollbar = hasStickyColumns || browserScrollbarSize().height === 0;\n  useStickyScrollbar(scrollbarRef, scrollbarContentRef, tableRef, wrapperRef, offsetScrollbar);\n  const {\n    ref: stickyDetectionRef,\n    isIntersecting: isStickyDetectionVisible\n  } = useIntersectionObserver();\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    ref: mergedRef,\n    className: clsx(styles['sticky-scrollbar'], offsetScrollbar && styles['sticky-scrollbar-offset'], isVisualRefresh && styles['is-visual-refresh']),\n    onScroll: onScroll,\n    \"data-stuck\": !isStickyDetectionVisible\n  }, React.createElement(\"div\", {\n    ref: scrollbarContentRef,\n    className: styles['sticky-scrollbar-content']\n  })), React.createElement(\"div\", {\n    ref: stickyDetectionRef,\n    style: {\n      position: 'absolute',\n      right: 0,\n      bottom: 0,\n      left: 0,\n      height: 1\n    }\n  }));\n}","map":{"version":3,"names":["React","forwardRef","clsx","useMergeRefs","useIntersectionObserver","useVisualRefresh","browserScrollbarSize","useStickyScrollbar","styles","StickyScrollbar","_ref","ref","wrapperRef","tableRef","onScroll","hasStickyColumns","isVisualRefresh","scrollbarRef","useRef","scrollbarContentRef","mergedRef","offsetScrollbar","height","stickyDetectionRef","isIntersecting","isStickyDetectionVisible","createElement","Fragment","className","style","position","right","bottom","left"],"sources":["/Users/naman/Desktop/Portfolio/react-portfolio/node_modules/src/table/sticky-scrollbar/sticky-scrollbar.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useMergeRefs } from '@cloudscape-design/component-toolkit/internal';\n\nimport { useIntersectionObserver } from '../../internal/hooks/use-intersection-observer';\nimport { useVisualRefresh } from '../../internal/hooks/use-visual-mode';\nimport { browserScrollbarSize } from '../../internal/utils/browser-scrollbar-size';\nimport { useStickyScrollbar } from './use-sticky-scrollbar';\n\nimport styles from './styles.css.js';\n\ninterface StickyScrollbarProps {\n  wrapperRef: React.RefObject<HTMLDivElement>;\n  tableRef: React.RefObject<HTMLTableElement>;\n  onScroll?: React.UIEventHandler<HTMLDivElement>;\n  hasStickyColumns?: boolean;\n}\n\nexport default forwardRef(StickyScrollbar);\n\nfunction StickyScrollbar(\n  { wrapperRef, tableRef, onScroll, hasStickyColumns }: StickyScrollbarProps,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const isVisualRefresh = useVisualRefresh();\n  const scrollbarRef = React.useRef<HTMLDivElement>(null);\n  const scrollbarContentRef = React.useRef<HTMLDivElement>(null);\n  const mergedRef = useMergeRefs(ref, scrollbarRef);\n\n  /**\n   * If the height of the scrollbar is 0, we're likely on a platform that uses\n   * overlay scrollbars (e.g. Mac).\n   */\n  const offsetScrollbar = hasStickyColumns || browserScrollbarSize().height === 0;\n\n  useStickyScrollbar(scrollbarRef, scrollbarContentRef, tableRef, wrapperRef, offsetScrollbar);\n\n  const { ref: stickyDetectionRef, isIntersecting: isStickyDetectionVisible } = useIntersectionObserver();\n\n  return (\n    <>\n      <div\n        ref={mergedRef}\n        className={clsx(\n          styles['sticky-scrollbar'],\n          offsetScrollbar && styles['sticky-scrollbar-offset'],\n          isVisualRefresh && styles['is-visual-refresh']\n        )}\n        onScroll={onScroll}\n        data-stuck={!isStickyDetectionVisible}\n      >\n        <div ref={scrollbarContentRef} className={styles['sticky-scrollbar-content']} />\n      </div>\n      <div ref={stickyDetectionRef} style={{ position: 'absolute', right: 0, bottom: 0, left: 0, height: 1 }} />\n    </>\n  );\n}\n"],"mappings":"AAAA;AACA;AACA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,OAAOC,IAAI,MAAM,MAAM;AAEvB,SAASC,YAAY,QAAQ,+CAA+C;AAE5E,SAASC,uBAAuB,QAAQ,gDAAgD;AACxF,SAASC,gBAAgB,QAAQ,sCAAsC;AACvE,SAASC,oBAAoB,QAAQ,6CAA6C;AAClF,SAASC,kBAAkB,QAAQ,wBAAwB;AAE3D,OAAOC,MAAM,MAAM,iBAAiB;AASpC,eAAeP,UAAU,CAACQ,eAAe,CAAC;AAE1C,SAASA,eAAeA,CAAAC,IAAA,EAEtBC,GAA8B;EAAA,IAD9B;IAAEC,UAAU;IAAEC,QAAQ;IAAEC,QAAQ;IAAEC;EAAgB,CAAwB,GAAAL,IAAA;EAG1E,MAAMM,eAAe,GAAGX,gBAAgB,EAAE;EAC1C,MAAMY,YAAY,GAAGjB,KAAK,CAACkB,MAAM,CAAiB,IAAI,CAAC;EACvD,MAAMC,mBAAmB,GAAGnB,KAAK,CAACkB,MAAM,CAAiB,IAAI,CAAC;EAC9D,MAAME,SAAS,GAAGjB,YAAY,CAACQ,GAAG,EAAEM,YAAY,CAAC;EAEjD;;;;EAIA,MAAMI,eAAe,GAAGN,gBAAgB,IAAIT,oBAAoB,EAAE,CAACgB,MAAM,KAAK,CAAC;EAE/Ef,kBAAkB,CAACU,YAAY,EAAEE,mBAAmB,EAAEN,QAAQ,EAAED,UAAU,EAAES,eAAe,CAAC;EAE5F,MAAM;IAAEV,GAAG,EAAEY,kBAAkB;IAAEC,cAAc,EAAEC;EAAwB,CAAE,GAAGrB,uBAAuB,EAAE;EAEvG,OACEJ,KAAA,CAAA0B,aAAA,CAAA1B,KAAA,CAAA2B,QAAA,QACE3B,KAAA,CAAA0B,aAAA;IACEf,GAAG,EAAES,SAAS;IACdQ,SAAS,EAAE1B,IAAI,CACbM,MAAM,CAAC,kBAAkB,CAAC,EAC1Ba,eAAe,IAAIb,MAAM,CAAC,yBAAyB,CAAC,EACpDQ,eAAe,IAAIR,MAAM,CAAC,mBAAmB,CAAC,CAC/C;IACDM,QAAQ,EAAEA,QAAQ;IAAA,cACN,CAACW;EAAwB,GAErCzB,KAAA,CAAA0B,aAAA;IAAKf,GAAG,EAAEQ,mBAAmB;IAAES,SAAS,EAAEpB,MAAM,CAAC,0BAA0B;EAAC,EAAI,CAC5E,EACNR,KAAA,CAAA0B,aAAA;IAAKf,GAAG,EAAEY,kBAAkB;IAAEM,KAAK,EAAE;MAAEC,QAAQ,EAAE,UAAU;MAAEC,KAAK,EAAE,CAAC;MAAEC,MAAM,EAAE,CAAC;MAAEC,IAAI,EAAE,CAAC;MAAEX,MAAM,EAAE;IAAC;EAAE,EAAI,CACzG;AAEP","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}