{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback } from 'react';\nimport clsx from 'clsx';\nimport { useUniqueId } from '@cloudscape-design/component-toolkit/internal';\nimport { InternalButton } from '../button/internal';\nimport InternalFormField from '../form-field/internal';\nimport { useInternalI18n } from '../i18n/context';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { getItemGridColumns, getRemoveButtonGridColumns, isRemoveButtonOnSameLine } from './utils';\nimport styles from './styles.css.js';\nfunction render(item, itemIndex, slot) {\n  if (isSlotFunction(slot)) {\n    return slot(item, itemIndex);\n  }\n  return slot;\n  function isSlotFunction(slot) {\n    return typeof slot === 'function';\n  }\n}\nexport const Row = React.memo(_ref => {\n  let {\n    breakpoint,\n    item,\n    definition,\n    layout,\n    i18nStrings = {},\n    index,\n    removable,\n    removeButtonText,\n    removeButtonRefs,\n    customRowActions,\n    onRemoveButtonClick,\n    removeButtonAriaLabel\n  } = _ref;\n  var _a;\n  const i18n = useInternalI18n('attribute-editor');\n  const handleRemoveClick = useCallback(() => {\n    fireNonCancelableEvent(onRemoveButtonClick, {\n      itemIndex: index\n    });\n  }, [onRemoveButtonClick, index]);\n  const firstControlId = useUniqueId('first-control-id-');\n  const buttonRef = ref => {\n    removeButtonRefs[index] = ref !== null && ref !== void 0 ? ref : undefined;\n  };\n  let gridColumnStart = 1;\n  let gridColumnEnd = 1;\n  const removeButtonOnSameLine = isRemoveButtonOnSameLine(layout);\n  const customActions = customRowActions === null || customRowActions === void 0 ? void 0 : customRowActions({\n    item,\n    itemIndex: index,\n    ref: buttonRef,\n    breakpoint,\n    ownRow: !removeButtonOnSameLine\n  });\n  return React.createElement(\"div\", {\n    className: clsx(styles.row, layout.rows.length === 1 && styles['single-row']),\n    role: \"group\",\n    \"aria-labelledby\": `${firstControlId}-label ${firstControlId}`\n  }, definition.map((_ref2, defIndex) => {\n    let {\n      info,\n      label,\n      constraintText,\n      errorText,\n      warningText,\n      control\n    } = _ref2;\n    ({\n      gridColumnStart,\n      gridColumnEnd\n    } = getItemGridColumns(layout, defIndex));\n    return React.createElement(InternalFormField, {\n      key: defIndex,\n      className: styles.field,\n      __style: {\n        gridColumnStart,\n        gridColumnEnd\n      },\n      label: label,\n      info: info,\n      constraintText: render(item, index, constraintText),\n      errorText: render(item, index, errorText),\n      warningText: render(item, index, warningText),\n      stretch: true,\n      i18nStrings: {\n        errorIconAriaLabel: i18nStrings.errorIconAriaLabel,\n        warningIconAriaLabel: i18nStrings.warningIconAriaLabel\n      },\n      __hideLabel: index !== 0 && removeButtonOnSameLine,\n      controlId: defIndex === 0 ? firstControlId : undefined\n    }, render(item, index, control));\n  }), React.createElement(\"div\", {\n    className: clsx(styles['remove-button-container'], {\n      [styles['remove-button-field-padding']]: removeButtonOnSameLine && index === 0,\n      [styles['remove-button-own-row']]: !removeButtonOnSameLine\n    }),\n    style: Object.assign({}, getRemoveButtonGridColumns(layout, gridColumnEnd))\n  }, removable && (customActions !== undefined ? customActions : React.createElement(InternalButton, {\n    className: styles['remove-button'],\n    formAction: \"none\",\n    ref: buttonRef,\n    ariaLabel: (_a = removeButtonAriaLabel !== null && removeButtonAriaLabel !== void 0 ? removeButtonAriaLabel : i18nStrings.removeButtonAriaLabel) === null || _a === void 0 ? void 0 : _a(item),\n    onClick: handleRemoveClick\n  }, i18n('removeButtonText', removeButtonText)))), !removeButtonOnSameLine && React.createElement(\"div\", {\n    className: styles.divider\n  }));\n});","map":{"version":3,"names":["React","useCallback","clsx","useUniqueId","InternalButton","InternalFormField","useInternalI18n","fireNonCancelableEvent","getItemGridColumns","getRemoveButtonGridColumns","isRemoveButtonOnSameLine","styles","render","item","itemIndex","slot","isSlotFunction","Row","memo","_ref","breakpoint","definition","layout","i18nStrings","index","removable","removeButtonText","removeButtonRefs","customRowActions","onRemoveButtonClick","removeButtonAriaLabel","i18n","handleRemoveClick","firstControlId","buttonRef","ref","undefined","gridColumnStart","gridColumnEnd","removeButtonOnSameLine","customActions","ownRow","createElement","className","row","rows","length","role","map","_ref2","defIndex","info","label","constraintText","errorText","warningText","control","key","field","__style","stretch","errorIconAriaLabel","warningIconAriaLabel","__hideLabel","controlId","style","Object","assign","formAction","ariaLabel","_a","onClick","divider"],"sources":["/Users/naman/Desktop/Portfolio/react-portfolio/node_modules/src/attribute-editor/row.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback } from 'react';\nimport clsx from 'clsx';\n\nimport { useUniqueId } from '@cloudscape-design/component-toolkit/internal';\n\nimport { ButtonProps } from '../button/interfaces';\nimport { InternalButton } from '../button/internal';\nimport InternalFormField from '../form-field/internal';\nimport { useInternalI18n } from '../i18n/context';\nimport { Breakpoint } from '../internal/breakpoints';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../internal/events';\nimport { AttributeEditorProps } from './interfaces';\nimport { getItemGridColumns, getRemoveButtonGridColumns, isRemoveButtonOnSameLine } from './utils';\n\nimport styles from './styles.css.js';\n\ninterface RowProps<T> {\n  breakpoint: Breakpoint | null;\n  layout: AttributeEditorProps.GridLayout;\n  item: T;\n  definition: ReadonlyArray<AttributeEditorProps.FieldDefinition<T>>;\n  i18nStrings: AttributeEditorProps.I18nStrings | undefined;\n  index: number;\n  removable: boolean;\n  removeButtonText?: string;\n  removeButtonRefs: Array<ButtonProps.Ref | undefined>;\n  customRowActions?: (props: AttributeEditorProps.RowActionsProps<T>) => React.ReactNode;\n  onRemoveButtonClick?: NonCancelableEventHandler<AttributeEditorProps.RemoveButtonClickDetail>;\n  removeButtonAriaLabel?: (item: T) => string;\n}\n\nfunction render<T>(\n  item: T,\n  itemIndex: number,\n  slot: AttributeEditorProps.FieldRenderable<T> | React.ReactNode | undefined\n) {\n  if (isSlotFunction(slot)) {\n    return slot(item, itemIndex);\n  }\n  return slot;\n\n  function isSlotFunction(slot: unknown): slot is AttributeEditorProps.FieldRenderable<T> {\n    return typeof slot === 'function';\n  }\n}\n\nexport const Row = React.memo(\n  <T,>({\n    breakpoint,\n    item,\n    definition,\n    layout,\n    i18nStrings = {},\n    index,\n    removable,\n    removeButtonText,\n    removeButtonRefs,\n    customRowActions,\n    onRemoveButtonClick,\n    removeButtonAriaLabel,\n  }: RowProps<T>) => {\n    const i18n = useInternalI18n('attribute-editor');\n\n    const handleRemoveClick = useCallback(() => {\n      fireNonCancelableEvent(onRemoveButtonClick, { itemIndex: index });\n    }, [onRemoveButtonClick, index]);\n\n    const firstControlId = useUniqueId('first-control-id-');\n\n    const buttonRef = (ref: ButtonProps.Ref | null) => {\n      removeButtonRefs[index] = ref ?? undefined;\n    };\n\n    let gridColumnStart = 1;\n    let gridColumnEnd = 1;\n    const removeButtonOnSameLine = isRemoveButtonOnSameLine(layout);\n\n    const customActions = customRowActions?.({\n      item,\n      itemIndex: index,\n      ref: buttonRef,\n      breakpoint,\n      ownRow: !removeButtonOnSameLine,\n    });\n\n    return (\n      <div\n        className={clsx(styles.row, layout.rows.length === 1 && styles['single-row'])}\n        role=\"group\"\n        aria-labelledby={`${firstControlId}-label ${firstControlId}`}\n      >\n        {definition.map(({ info, label, constraintText, errorText, warningText, control }, defIndex) => {\n          ({ gridColumnStart, gridColumnEnd } = getItemGridColumns(layout, defIndex));\n          return (\n            <InternalFormField\n              key={defIndex}\n              className={styles.field}\n              __style={{ gridColumnStart, gridColumnEnd }}\n              label={label}\n              info={info}\n              constraintText={render(item, index, constraintText)}\n              errorText={render(item, index, errorText)}\n              warningText={render(item, index, warningText)}\n              stretch={true}\n              i18nStrings={{\n                errorIconAriaLabel: i18nStrings.errorIconAriaLabel,\n                warningIconAriaLabel: i18nStrings.warningIconAriaLabel,\n              }}\n              __hideLabel={index !== 0 && removeButtonOnSameLine}\n              controlId={defIndex === 0 ? firstControlId : undefined}\n            >\n              {render(item, index, control)}\n            </InternalFormField>\n          );\n        })}\n        <div\n          className={clsx(styles['remove-button-container'], {\n            [styles['remove-button-field-padding']]: removeButtonOnSameLine && index === 0,\n            [styles['remove-button-own-row']]: !removeButtonOnSameLine,\n          })}\n          style={{ ...getRemoveButtonGridColumns(layout, gridColumnEnd) }}\n        >\n          {removable &&\n            (customActions !== undefined ? (\n              customActions\n            ) : (\n              <InternalButton\n                className={styles['remove-button']}\n                formAction=\"none\"\n                ref={buttonRef}\n                ariaLabel={(removeButtonAriaLabel ?? i18nStrings.removeButtonAriaLabel)?.(item)}\n                onClick={handleRemoveClick}\n              >\n                {i18n('removeButtonText', removeButtonText)}\n              </InternalButton>\n            ))}\n        </div>\n        {!removeButtonOnSameLine && <div className={styles.divider} />}\n      </div>\n    );\n  }\n) as <T>(props: RowProps<T>) => JSX.Element;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}