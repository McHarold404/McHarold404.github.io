{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useRef } from 'react';\nimport { fireNonCancelableEvent } from '../../internal/events';\nexport const useLoadItems = _ref => {\n  let {\n    onLoadItems,\n    options,\n    statusType\n  } = _ref;\n  const prevFilteringText = useRef(undefined);\n  const fireLoadItems = filteringText => {\n    if (prevFilteringText.current === filteringText) {\n      return;\n    }\n    prevFilteringText.current = filteringText;\n    fireNonCancelableEvent(onLoadItems, {\n      filteringText,\n      firstPage: true,\n      samePage: false\n    });\n  };\n  const handleLoadMore = () => {\n    const firstPage = options.length === 0;\n    if (statusType === 'pending') {\n      fireNonCancelableEvent(onLoadItems, {\n        firstPage,\n        samePage: false,\n        filteringText: prevFilteringText.current || ''\n      });\n    }\n  };\n  const handleRecoveryClick = () => fireNonCancelableEvent(onLoadItems, {\n    firstPage: false,\n    samePage: true,\n    filteringText: prevFilteringText.current || ''\n  });\n  return {\n    fireLoadItems,\n    handleLoadMore,\n    handleRecoveryClick\n  };\n};","map":{"version":3,"names":["useRef","fireNonCancelableEvent","useLoadItems","_ref","onLoadItems","options","statusType","prevFilteringText","undefined","fireLoadItems","filteringText","current","firstPage","samePage","handleLoadMore","length","handleRecoveryClick"],"sources":["/Users/naman/Desktop/Portfolio/react-portfolio/node_modules/src/select/utils/use-load-items.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useRef } from 'react';\n\nimport { DropdownStatusProps } from '../../internal/components/dropdown-status';\nimport { OptionDefinition, OptionGroup } from '../../internal/components/option/interfaces';\nimport { fireNonCancelableEvent } from '../../internal/events';\nimport { SelectProps } from '../interfaces';\n\ninterface UseLoadItemsProps {\n  onLoadItems: SelectProps['onLoadItems'];\n  options: ReadonlyArray<OptionDefinition | OptionGroup>;\n  statusType: DropdownStatusProps.StatusType;\n}\n\nexport const useLoadItems = ({ onLoadItems, options, statusType }: UseLoadItemsProps) => {\n  const prevFilteringText = useRef<string | undefined>(undefined);\n\n  const fireLoadItems = (filteringText: string) => {\n    if (prevFilteringText.current === filteringText) {\n      return;\n    }\n    prevFilteringText.current = filteringText;\n    fireNonCancelableEvent(onLoadItems, { filteringText, firstPage: true, samePage: false });\n  };\n\n  const handleLoadMore = () => {\n    const firstPage = options.length === 0;\n    if (statusType === 'pending') {\n      fireNonCancelableEvent(onLoadItems, {\n        firstPage,\n        samePage: false,\n        filteringText: prevFilteringText.current || '',\n      });\n    }\n  };\n\n  const handleRecoveryClick = () =>\n    fireNonCancelableEvent(onLoadItems, {\n      firstPage: false,\n      samePage: true,\n      filteringText: prevFilteringText.current || '',\n    });\n\n  return {\n    fireLoadItems,\n    handleLoadMore,\n    handleRecoveryClick,\n  };\n};\n"],"mappings":"AAAA;AACA;AACA,SAASA,MAAM,QAAQ,OAAO;AAI9B,SAASC,sBAAsB,QAAQ,uBAAuB;AAS9D,OAAO,MAAMC,YAAY,GAAGC,IAAA,IAA4D;EAAA,IAA3D;IAAEC,WAAW;IAAEC,OAAO;IAAEC;EAAU,CAAqB,GAAAH,IAAA;EAClF,MAAMI,iBAAiB,GAAGP,MAAM,CAAqBQ,SAAS,CAAC;EAE/D,MAAMC,aAAa,GAAIC,aAAqB,IAAI;IAC9C,IAAIH,iBAAiB,CAACI,OAAO,KAAKD,aAAa,EAAE;MAC/C;;IAEFH,iBAAiB,CAACI,OAAO,GAAGD,aAAa;IACzCT,sBAAsB,CAACG,WAAW,EAAE;MAAEM,aAAa;MAAEE,SAAS,EAAE,IAAI;MAAEC,QAAQ,EAAE;IAAK,CAAE,CAAC;EAC1F,CAAC;EAED,MAAMC,cAAc,GAAGA,CAAA,KAAK;IAC1B,MAAMF,SAAS,GAAGP,OAAO,CAACU,MAAM,KAAK,CAAC;IACtC,IAAIT,UAAU,KAAK,SAAS,EAAE;MAC5BL,sBAAsB,CAACG,WAAW,EAAE;QAClCQ,SAAS;QACTC,QAAQ,EAAE,KAAK;QACfH,aAAa,EAAEH,iBAAiB,CAACI,OAAO,IAAI;OAC7C,CAAC;;EAEN,CAAC;EAED,MAAMK,mBAAmB,GAAGA,CAAA,KAC1Bf,sBAAsB,CAACG,WAAW,EAAE;IAClCQ,SAAS,EAAE,KAAK;IAChBC,QAAQ,EAAE,IAAI;IACdH,aAAa,EAAEH,iBAAiB,CAACI,OAAO,IAAI;GAC7C,CAAC;EAEJ,OAAO;IACLF,aAAa;IACbK,cAAc;IACdE;GACD;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}